# Contribution Guide and Code Style

This document outlines technical details and guidelines that must be followed when developing this project.

The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in [RFC 2119](https://datatracker.ietf.org/doc/html/rfc2119).

## MOST IMPORTANTLY

1. All commit messages MUST follow the [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) specification.
2. All branch names MUST follow the [Conventional Branch](https://conventional-branch.github.io/) specification. With some additions to the `releases/` branch as described in point 6 below.
3. All version numbers MUST follow [Semantic Versioning](https://semver.org/) specification.
4. The semver of the in development software (i.e., in any in development branch) MUST have the `"-" <pre-release> "+" <build>` suffix. More specifically:
    - The `<pre-release>` for feature or fix branches MUST be the branch description after the `feat/`, `fix/`, etc. For all other branches, it MUST be `"dev"`.
    - The `<build>` MUST be the current Git SHA of the HEAD of the branch.
5. Since this is a multi-component project, each component (e.g. server, client, etc.) MAY have independent version numbers that follow the rules described above, but intercompatible components MUST have the same MAJOR version number.
6. To create a release, a `release/` branch MUST be created from the `main` branch. The name of the branch MUST be `release/<COMPONENT>/v<SEMVER>`. For example, `release/server/v1.2.0`. In addition:
    - The branch MUST be created only after all intended features and fixes for the release have been merged into `main`.
    - The branch MUST be used to perform final testing and any last-minute fixes.
    - The required version number changes MUST be made in this branch.
    - The release MUST be tagged in this branch.
    - After the release, the branch MUST NOT be deleted and MUST be merged back into `main`, followed by a new commit that bumps the version number back into the in-development state as described in point 4 above.
7. The tag for a release MUST be in the format `<COMPONENT>/v<SEMVER>`. For example, `server/v1.2.0`. Note that this is the same as the release branch name without the `release/` prefix.
8. A release MUST only contain the artifact built for the component that is meant to be released. For example, the `server/v1.2.0` release MUST only contain the server binary or package, and MUST NOT contain the client or any other component. The only exception to this is that the source code archieve (often automatically generated by the Git hosting service) MAY contain the entire source of the project.
9. The release description MUST contain:
    - The semver (or range of versions, if applicable) of the other components that are compatible with this release.
    - A summary of changes since the last release.
    - A list of breaking changes, if any.
    - Instructions for updating from the previous version, if necessary.
    - Any other relevant information for users of the release.
    - A CHANGELOG, if applicable.
